{
 "method":"deleteNode",
 "fields":["id","lft","rgt"],
 "cases":[
    {
     "comment":"drop tree avoiding closing gaps",
     "from" :
        [1,1,20,[
            [2,2,7,[
                [5,3,4,[]],
                [6,5,6,[]]
            ]],
            [3,8,13,[
                [7,9,10,[]],
                [8,11,12,[]]
            ]],
            [4,14,19,[
                [9,15,16,[]],
                [10,17,18,[]]
            ]]
        ]],
     "params":[3,false],
     "to":
        [1,1,20,[
            [2,2,7,[
                [5,3,4,[]],
                [6,5,6,[]]
            ]],
            [4,14,19,[
                [9,15,16,[]],
                [10,17,18,[]]
            ]]
        ]]
    },
    {
     "comment":"delete leaf",
     "from":
        [8,1,38,[
            [15,2,15,[
                [14,3,8,[
                    [2,4,7,[
                        [16,5,6,[]]
                    ]]
                ]],
                [12,9,14,[
                    [10,10,13,[
                        [7,11,12,[]]
                    ]]
                ]]
            ]],
            [9,16,23,[
                [1,17,20,[
                    [17,18,19,[]]
                ]],
                [4,21,22,[]]
            ]],
            [18,24,37,[
                [11,25,30,[
                    [3,26,29,[
                        [6,27,28,[]]
                    ]]
                ]],
                [13,31,36,[
                    [5,32,35,[
                        [19,33,34,[]]
                    ]]
                ]]
            ]]
        ]],
     "params":[7],
     "to":
        [8,1,36,[
            [15,2,13,[
                [14,3,8,[
                    [2,4,7,[
                        [16,5,6,[]]
                    ]]
                ]],
                [12,9,12,[
                    [10,10,11,[]]
                ]]
            ]],
            [9,14,21,[
                [1,15,18,[
                    [17,16,17,[]]
                ]],
                [4,19,20,[]]
            ]],
            [18,22,35,[
                [11,23,28,[
                    [3,24,27,[
                        [6,25,26,[]]
                    ]]
                ]],
                [13,29,34,[
                    [5,30,33,[
                        [19,31,32,[]]
                    ]]
                ]]
            ]]
        ]]
    },
    {
     "comment":"drop root",
     "from":
        [8,1,38,[
            [15,2,15,[
                [14,3,8,[
                    [2,4,7,[
                        [16,5,6,[]]
                    ]]
                ]],
                [12,9,14,[
                    [10,10,13,[
                        [7,11,12,[]]
                    ]]
                ]]
            ]],
            [9,16,23,[
                [1,17,20,[
                    [17,18,19,[]]
                ]],
                [4,21,22,[]]
            ]],
            [18,24,37,[
                [11,25,30,[
                    [3,26,29,[
                        [6,27,28,[]]
                    ]]
                ]],
                [13,31,36,[
                    [5,32,35,[
                        [19,33,34,[]]
                    ]]
                ]]
            ]]
        ]],
     "params":[8],
     "to":null
    },
    {
     "comment":"drop parent with a single child",
     "from":
        [8,1,38,[
            [15,2,15,[
                [14,3,8,[
                    [2,4,7,[
                        [16,5,6,[]]
                    ]]
                ]],
                [12,9,14,[
                    [10,10,13,[
                        [7,11,12,[]]
                    ]]
                ]]
            ]],
            [9,16,23,[
                [1,17,20,[
                    [17,18,19,[]]
                ]],
                [4,21,22,[]]
            ]],
            [18,24,37,[
                [11,25,30,[
                    [3,26,29,[
                        [6,27,28,[]]
                    ]]
                ]],
                [13,31,36,[
                    [5,32,35,[
                        [19,33,34,[]]
                    ]]
                ]]
            ]]
        ]],
     "params":[1],
     "to":
        [8,1,34,[
            [15,2,15,[
                [14,3,8,[
                    [2,4,7,[
                        [16,5,6,[]]
                    ]]
                ]],
                [12,9,14,[
                    [10,10,13,[
                        [7,11,12,[]]
                    ]]
                ]]
            ]],
            [9,16,19,[
                [4,17,18,[]]
            ]],
            [18,20,33,[
                [11,21,26,[
                    [3,22,25,[
                        [6,23,24,[]]
                    ]]
                ]],
                [13,27,32,[
                    [5,28,31,[
                        [19,29,30,[]]
                    ]]
                ]]
            ]]
        ]]
    },
    {
     "comment":"drop most right sibling with multiple level children",
     "from":
        [8,1,38,[
            [15,2,15,[
                [14,3,8,[
                    [2,4,7,[
                        [16,5,6,[]]
                    ]]
                ]],
                [12,9,14,[
                    [10,10,13,[
                        [7,11,12,[]]
                    ]]
                ]]
            ]],
            [9,16,23,[
                [1,17,20,[
                    [17,18,19,[]]
                ]],
                [4,21,22,[]]
            ]],
            [18,24,37,[
                [11,25,30,[
                    [3,26,29,[
                        [6,27,28,[]]
                    ]]
                ]],
                [13,31,36,[
                    [5,32,35,[
                        [19,33,34,[]]
                    ]]
                ]]
            ]]
        ]],
     "params":[18],
     "to":
        [8,1,24,[
            [15,2,15,[
                [14,3,8,[
                    [2,4,7,[
                        [16,5,6,[]]
                    ]]
                ]],
                [12,9,14,[
                    [10,10,13,[
                        [7,11,12,[]]
                    ]]
                ]]
            ]],
            [9,16,23,[
                [1,17,20,[
                    [17,18,19,[]]
                ]],
                [4,21,22,[]]
            ]]
        ]]
    },
    {
     "comment":"drop most left sibling with multiple level children",
     "from":
        [8,1,38,[
            [15,2,15,[
                [14,3,8,[
                    [2,4,7,[
                        [16,5,6,[]]
                    ]]
                ]],
                [12,9,14,[
                    [10,10,13,[
                        [7,11,12,[]]
                    ]]
                ]]
            ]],
            [9,16,23,[
                [1,17,20,[
                    [17,18,19,[]]
                ]],
                [4,21,22,[]]
            ]],
            [18,24,37,[
                [11,25,30,[
                    [3,26,29,[
                        [6,27,28,[]]
                    ]]
                ]],
                [13,31,36,[
                    [5,32,35,[
                        [19,33,34,[]]
                    ]]
                ]]
            ]]
        ]],
     "params":[15],
     "to":
        [8,1,24,[
            [9,2,9,[
                [1,3,6,[
                    [17,4,5,[]]
                ]],
                [4,7,8,[]]
            ]],
            [18,10,23,[
                [11,11,16,[
                    [3,12,15,[
                        [6,13,14,[]]
                    ]]
                ]],
                [13,17,22,[
                    [5,18,21,[
                        [19,19,20,[]]
                    ]]
                ]]
            ]]
        ]]
    },
    {
     "comment":"drop unexistent node",
     "from":
        [8,1,15,[
            [15,2,15,[
                [14,3,8,[
                    [2,4,7,[
                        [16,5,6,[]]
                    ]]
                ]],
                [12,9,14,[
                    [10,10,13,[
                        [7,11,12,[]]
                    ]]
                ]]
            ]]
        ]],
     "params":[1000],
     "to":
        [8,1,15,[
            [15,2,15,[
                [14,3,8,[
                    [2,4,7,[
                        [16,5,6,[]]
                    ]]
                ]],
                [12,9,14,[
                    [10,10,13,[
                        [7,11,12,[]]
                    ]]
                ]]
            ]]
        ]]
    }
 ]
}