{
 "method":"moveNodeAtIndex",
 "fields":["id","lft","rgt"],
 "existing_trees":[
    {
        "tree_id":1000,
        "tree":
            [1,1,22,[
                [2,2,7,[
                    [5,3,4,[]],
                    [6,5,6,[]]
                ]],
                [3,8,15,[
                    [7,9,12,[
                        [11,10,11,[]]
                    ]],
                    [8,13,14,[]]
                ]],
                [4,16,21,
                    [[9,17,18,[]],
                    [10,19,20,[]]
                ]]
            ]]
    },
    {
        "tree_id":3000,
        "tree":
            [300001,1,18,[
                [300002,2,5,[
                    [300003,3,4,[]]
                ]],
                [300004,6,11,[
                    [300005,7,8,[]],
                    [300006,9,10,[]]
                ]],
                [300007,12,17,[
                    [300008,13,14,[]],
                    [300009,15,16,[]]
                ]]
            ]]
    }
    
 ],
 "cases":[
    {
     "comment":"move a node at index 0 of a parent without children in a different tree",
     "params":[3,300003,0],
     "toTrees":[
        {
            "tree_id":1000,
            "tree":
                    [1,1,14,[
                        [2,2,7,[
                            [5,3,4,[]],
                            [6,5,6,[]]
                        ]],
                        [4,8,13,
                            [[9,9,10,[]],
                            [10,11,12,[]]
                        ]]
                    ]]
        },
        {
            "tree_id":3000,
            "tree":
                [300001,1,26,[
                    [300002,2,13,[
                        [300003,3,12,[
                            [3,4,11,[
                                [7,5,8,[
                                    [11,6,7,[]]
                                ]],
                                [8,9,10,[]]
                            ]]
                        ]]
                    ]],
                    [300004,14,19,[
                        [300005,15,16,[]],
                        [300006,17,18,[]]
                    ]],
                    [300007,20,25,[
                        [300008,21,22,[]],
                        [300009,23,24,[]]
                    ]]
                ]]
        }
        
     ]
    },
    {
     "comment":"move a node before a child with a minor lft value in a different tree",
     "params":[3,300001,1],
     "toTrees":[
        {
            "tree_id":1000,
            "tree":
                [1,1,14,[
                    [2,2,7,[
                        [5,3,4,[]],
                        [6,5,6,[]]
                    ]],
                    [4,8,13,
                        [[9,9,10,[]],
                        [10,11,12,[]]
                    ]]
                ]]
        },
        {
            "tree_id":3000,
            "tree":
                [300001,1,26,[
                    [300002,2,5,[
                        [300003,3,4,[]]
                    ]],
                    [3,6,13,[
                        [7,7,10,[
                            [11,8,9,[]]
                        ]],
                        [8,11,12,[]]
                    ]],
                    [300004,14,19,[
                        [300005,15,16,[]],
                        [300006,17,18,[]]
                    ]],
                    [300007,20,25,[
                        [300008,21,22,[]],
                        [300009,23,24,[]]
                    ]]
                ]]
        }
        
     ]
    },
    {
     "comment":"move a node as first child in a different tree so it will have a minor lft value",
     "params":[3,300002,0],
     "toTrees":[
        {
            "tree_id":1000,
            "tree":
                [1,1,14,[
                    [2,2,7,[
                        [5,3,4,[]],
                        [6,5,6,[]]
                    ]],
                    [4,8,13,
                        [[9,9,10,[]],
                        [10,11,12,[]]
                    ]]
                ]]
        },
        {
            "tree_id":3000,
            "tree":
                [300001,1,26,[
                    [300002,2,13,[
                        [3,3,10,[
                            [7,4,7,[
                                [11,5,6,[]]
                            ]],
                            [8,8,9,[]]
                        ]],
                        [300003,11,12,[]]
                    ]],
                    [300004,14,19,[
                        [300005,15,16,[]],
                        [300006,17,18,[]]
                    ]],
                    [300007,20,25,[
                        [300008,21,22,[]],
                        [300009,23,24,[]]
                    ]]
                ]]
        }
        
     ]
    },
    {
     "comment":"move a node as first child in a different tree so it will have a greater lft value",
     "params":[3,300007,0],
     "toTrees":[
        {
            "tree_id":1000,
            "tree":
                [1,1,14,[
                    [2,2,7,[
                        [5,3,4,[]],
                        [6,5,6,[]]
                    ]],
                    [4,8,13,
                        [[9,9,10,[]],
                        [10,11,12,[]]
                    ]]
                ]]
        },
        {
            "tree_id":3000,
            "tree":
                [300001,1,26,[
                    [300002,2,5,[
                        [300003,3,4,[]]
                    ]],
                    [300004,6,11,[
                        [300005,7,8,[]],
                        [300006,9,10,[]]
                    ]],
                    [300007,12,25,[
                        [3,13,20,[
                            [7,14,17,[
                                [11,15,16,[]]
                            ]],
                            [8,18,19,[]]
                        ]],
                        [300008,21,22,[]],
                        [300009,23,24,[]]
                    ]]
                ]]
        }
        
     ]
    },
    {
     "comment":"move a node before a child with a greater rgt value in a different tree",
     "params":[3,300001,2],
     "toTrees":[
        {
            "tree_id":1000,
            "tree":
                [1,1,14,[
                    [2,2,7,[
                        [5,3,4,[]],
                        [6,5,6,[]]
                    ]],
                    [4,8,13,
                        [[9,9,10,[]],
                        [10,11,12,[]]
                    ]]
                ]]
        },
        {
            "tree_id":3000,
            "tree":
                [300001,1,26,[
                    [300002,2,5,[
                        [300003,3,4,[]]
                    ]],
                    [300004,6,11,[
                        [300005,7,8,[]],
                        [300006,9,10,[]]
                    ]],
                    [3,12,19,[
                        [7,13,16,[
                            [11,14,15,[]]
                        ]],
                        [8,17,18,[]]
                    ]],
                    [300007,20,25,[
                        [300008,21,22,[]],
                        [300009,23,24,[]]
                    ]]
                ]]
        }
        
     ]
    },
    {
     "comment":"move a node as first child in a different tree so it will have a minor rgt value",
     "params":[3,300002,0],
     "toTrees":[
        {
            "tree_id":1000,
            "tree":
                [1,1,14,[
                    [2,2,7,[
                        [5,3,4,[]],
                        [6,5,6,[]]
                    ]],
                    [4,8,13,
                        [[9,9,10,[]],
                        [10,11,12,[]]
                    ]]
                ]]
        },
        {
            "tree_id":3000,
            "tree":
                [300001,1,26,[
                    [300002,2,13,[
                        [3,3,10,[
                            [7,4,7,[
                                [11,5,6,[]]
                            ]],
                            [8,8,9,[]]
                        ]],
                        [300003,11,12,[]]
                    ]],
                    [300004,14,19,[
                        [300005,15,16,[]],
                        [300006,17,18,[]]
                    ]],
                    [300007,20,25,[
                        [300008,21,22,[]],
                        [300009,23,24,[]]
                    ]]
                ]]
        }
        
     ]
    },
    {
     "comment":"move a node as first child in a different tree so it will have a greater rgt value using negative index",
     "params":[3,300007,0],
     "toTrees":[
        {
            "tree_id":1000,
            "tree":
                [1,1,14,[
                    [2,2,7,[
                        [5,3,4,[]],
                        [6,5,6,[]]
                    ]],
                    [4,8,13,
                        [[9,9,10,[]],
                        [10,11,12,[]]
                    ]]
                ]]
        },
        {
            "tree_id":3000,
            "tree":
                [300001,1,26,[
                    [300002,2,5,[
                        [300003,3,4,[]]
                    ]],
                    [300004,6,11,[
                        [300005,7,8,[]],
                        [300006,9,10,[]]
                    ]],
                    [300007,12,25,[
                        [3,13,20,[
                            [7,14,17,[
                                [11,15,16,[]]
                            ]],
                            [8,18,19,[]]
                        ]],
                        [300008,21,22,[]],
                        [300009,23,24,[]]
                    ]]
                ]]
        }
        
     ]
    }
  ]
}